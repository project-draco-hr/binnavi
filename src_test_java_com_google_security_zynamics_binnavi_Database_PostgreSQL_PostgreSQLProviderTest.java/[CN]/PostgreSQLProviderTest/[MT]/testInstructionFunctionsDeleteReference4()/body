{
  final INaviModule module=getProvider().loadModules().get(1);
  module.load();
  final INaviFunction function=module.getContent().getFunctionContainer().getFunction("DelayLoadFailureHook");
  function.load();
  final IBlockNode basicBlock=function.getBasicBlocks().get(0);
  final INaviInstruction instruction=Iterables.get(basicBlock.getInstructions(),1);
  final COperandTree tree=instruction.getOperands().get(0);
  final INaviOperandTreeNode node=tree.getRootNode();
  final IAddress address=instruction.getAddress();
  final ReferenceType type=ReferenceType.DATA;
  final int references=node.getReferences().size();
  PostgreSQLInstructionFunctions.addReference(getProvider(),node,address,type);
  final INaviModule module2=getProvider().loadModules().get(1);
  module2.load();
  final INaviFunction function2=module2.getContent().getFunctionContainer().getFunction("DelayLoadFailureHook");
  function2.load();
  final IBlockNode basicBlock2=function2.getBasicBlocks().get(0);
  final INaviInstruction instruction2=Iterables.get(basicBlock2.getInstructions(),1);
  final COperandTree tree2=instruction2.getOperands().get(0);
  final INaviOperandTreeNode node2=tree2.getRootNode();
  assertEquals(references + 1,node2.getReferences().size());
  PostgreSQLInstructionFunctions.deleteReference(getProvider(),node2,address,type);
  final INaviModule module3=getProvider().loadModules().get(1);
  module3.load();
  final INaviFunction function3=module3.getContent().getFunctionContainer().getFunction("DelayLoadFailureHook");
  function3.load();
  final IBlockNode basicBlock3=function3.getBasicBlocks().get(0);
  final INaviInstruction instruction3=Iterables.get(basicBlock3.getInstructions(),1);
  final COperandTree tree3=instruction3.getOperands().get(0);
  final INaviOperandTreeNode node3=tree3.getRootNode();
  assertEquals(references,node3.getReferences().size());
}
