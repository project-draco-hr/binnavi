{
  checkArguments(provider,view);
  final CConnection connection=provider.getConnection();
  final String query="SELECT name, value FROM " + CTableNames.VIEW_SETTINGS_TABLE + " WHERE view_id = "+ view.getConfiguration().getId();
  try {
    final ResultSet resultSet=connection.executeQuery(query,true);
    final HashMap<String,String> settings=new HashMap<String,String>();
    try {
      while (resultSet.next()) {
        settings.put(PostgreSQLHelpers.readString(resultSet,"name"),PostgreSQLHelpers.readString(resultSet,"value"));
      }
      return settings;
    }
  finally {
      resultSet.close();
    }
  }
 catch (  final SQLException exception) {
    throw new CouldntLoadDataException(exception);
  }
}
