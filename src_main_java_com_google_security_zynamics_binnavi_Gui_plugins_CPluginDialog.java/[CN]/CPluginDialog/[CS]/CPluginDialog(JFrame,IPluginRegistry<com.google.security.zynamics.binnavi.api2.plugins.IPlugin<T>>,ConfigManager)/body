{
  super(parent,"Plugins",true);
  Preconditions.checkNotNull(registry,"IE02058: Plugin Registry can't be null");
  Preconditions.checkNotNull(configFile,"IE02059: Config file can't be null");
  new CDialogEscaper(this);
  setLayout(new BorderLayout());
  final JPanel mainPanel=new JPanel(new BorderLayout());
  final JPanel sortPanel=new JPanel(new GridBagLayout());
  final JButton upButton=new JButton(CActionProxy.proxy(new MoveUpAction()));
  final JButton downButton=new JButton(CActionProxy.proxy(new MoveDownAction()));
  final InternalListener<T> listener=new InternalListener<T>(configFile);
  final GridBagConstraints gbConstraints=new GridBagConstraints();
  gbConstraints.insets=new Insets(3,3,3,3);
  gbConstraints.gridx=0;
  gbConstraints.gridy=0;
  gbConstraints.weighty=1.0;
  gbConstraints.weightx=1.0;
  gbConstraints.gridheight=1;
  gbConstraints.gridwidth=1;
  sortPanel.add(upButton,gbConstraints);
  gbConstraints.gridy=1;
  sortPanel.add(downButton,gbConstraints);
  final JPanel leftPanel=new JPanel(new GridBagLayout());
  final JPanel rightPanel=new JPanel(new BorderLayout());
  pluginDescriptionTextArea=new JTextArea();
  pluginDescriptionTextArea.setEditable(false);
  pluginDescriptionTextArea.setLineWrap(true);
  pluginDescriptionTextArea.setWrapStyleWord(true);
  rightPanel.add(new JScrollPane(pluginDescriptionTextArea),BorderLayout.CENTER);
  pluginList=new PluginListBox<T>(registry,configFile);
  pluginList.addListSelectionListener(listener);
  final GridBagConstraints gbConstraints2=new GridBagConstraints();
  gbConstraints2.insets=new Insets(3,3,3,3);
  gbConstraints2.gridx=0;
  gbConstraints2.gridy=0;
  gbConstraints2.gridheight=1;
  gbConstraints2.gridwidth=1;
  gbConstraints2.anchor=GridBagConstraints.NORTH;
  leftPanel.add(sortPanel,gbConstraints2);
  gbConstraints2.weighty=1.0;
  gbConstraints2.weightx=1.0;
  gbConstraints2.insets=new Insets(3,3,3,3);
  gbConstraints2.fill=GridBagConstraints.BOTH;
  gbConstraints2.gridx=1;
  gbConstraints2.gridy=0;
  gbConstraints2.gridheight=1;
  gbConstraints2.gridwidth=2;
  leftPanel.add(new JScrollPane(pluginList),gbConstraints2);
  final JSplitPane splitPane=new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,true,leftPanel,rightPanel);
  mainPanel.add(splitPane);
  final GridBagConstraints gbConstraints3=new GridBagConstraints();
  gbConstraints3.insets=new Insets(3,3,3,3);
  gbConstraints3.gridx=1;
  gbConstraints3.gridy=0;
  gbConstraints3.ipadx=400;
  gbConstraints3.ipady=200;
  gbConstraints3.gridheight=1;
  gbConstraints3.gridwidth=1;
  gbConstraints3.anchor=GridBagConstraints.NORTH;
  gbConstraints3.fill=GridBagConstraints.BOTH;
  add(mainPanel,BorderLayout.CENTER);
  final CPanelTwoButtons panel=new CPanelTwoButtons(listener,"OK","Cancel");
  getRootPane().setDefaultButton(panel.getFirstButton());
  add(panel,BorderLayout.SOUTH);
  setSize(600,400);
  setLocationRelativeTo(parent);
}
